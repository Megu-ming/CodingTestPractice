/*
소요 시간 44:00 / GPT 사용 O

문제
수 N개 A1, A2, ..., AN이 주어진다. 
이때, 연속된 부분 구간의 합이 M으로 나누어 떨어지는 구간의 개수를 구하는 프로그램을 작성하시오.

즉, Ai + ... + Aj (i ≤ j) 의 합이 M으로 나누어 떨어지는 (i, j) 쌍의 개수를 구해야 한다.

입력
첫째 줄에 N과 M이 주어진다. (1 ≤ N ≤ 1e6, 2 ≤ M ≤ 1e3)

둘째 줄에 N개의 수 A1, A2, ..., AN이 주어진다. (0 ≤ Ai ≤ 1e9)

출력
첫째 줄에 연속된 부분 구간의 합이 M으로 나누어 떨어지는 구간의 개수를 출력한다.

아이디어
전체 부분구간의 갯수 : N*(N+1) / 2 -> 전체 순회하면 터짐

A[j+1] - A[i] % M == 0
A[j+1] % M == A[i] % M
*/

#include <iostream>
#include <vector>
using namespace std;

int N, M;

int main()
{
    ios::sync_with_stdio(false);
    cin.tie(nullptr);

    cin >> N >> M;

    vector<long long> cnt(M, 0); // M으로 나눈 나머지가 같은 수들 count
    long long pref = 0;

    // 
    cnt[0] = 1;

    for(int i = 0; i < N; ++i){
        long long x;
        cin >> x;

        pref = (pref + x) % M;
        cnt[pref]++;
    }

    long long ans = 0;
    for(int r = 0; r < M; ++r){
        ans += cnt[r] * (cnt[r] - 1) / 2;
    }

    cout << ans << "\n";

    return 0;
}