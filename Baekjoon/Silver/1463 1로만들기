/*
소요 시간 : 28:22 / GPT 도움 O

문제
정수 X에 사용할 수 있는 연산은 다음과 같이 세 가지 이다.

1. X가 3으로 나누어 떨어지면, 3으로 나눈다.
2. X가 2로 나누어 떨어지면, 2로 나눈다.
3. 1을 뺀다.
정수 N이 주어졌을 때, 위와 같은 연산 세 개를 적절히 사용해서 1을 만들려고 한다. 
연산을 사용하는 횟수의 최솟값을 출력하시오.

입력
첫째 줄에 1보다 크거나 같고, 106보다 작거나 같은 정수 N이 주어진다.
(1 <= N <= 1,000,000)

출력
첫째 줄에 연산을 하는 횟수의 최솟값을 출력한다.

아이디어
if N%3 == 0 then N /= 3
else if N%2 == 0 then N /= 2
else N -= 1

dp[1,000,000];
4 : 0 2 2 3
5 : -1 dp[4]
6 : 2 
dp[1] = 0, dp[2] = 1, dp[3] = 1
dp[4] = 2;
dp[5] = 1 + dp[4]
dp[6] = 1 + dp[5] / dp[3] + 1
dp[7] = 1 + dp[6]
*/

#include <iostream>
#include <vector>
using namespace std;

int N;
int dp[1000001];

int main()
{
    ios::sync_with_stdio(false);
    cin.tie(nullptr);

    cin >> N;
    
    dp[1] = 0;
    for(int i = 2; i <=N; ++i){
        dp[i] = 1 + dp[i-1];
        if(i%3 == 0){
            dp[i] = min(dp[i], dp[i/3] + 1);
        }
        if(i%2 == 0){
            dp[i] = min(dp[i], dp[i/2] + 1);
        }
    }

    cout << dp[N];

    return 0;
}